name: Build and Deploy to Dev

on:
  pull_request:

jobs:
  build-dev-container:
    uses: ./.github/workflows/build-and-push-docker.yml
    secrets: inherit
  deploy-dev-container:
    needs: build-dev-container
    uses: ./.github/workflows/deploy-docker.yml
    secrets: inherit
    with:
      environment: Dev
      apollon_standalone_image_tag: "${{ needs.build-dev-container.outputs.apollon_standalone_image_tag }}"